package lab8;

import java.util.List;
import java.util.stream.Collectors;

/**
 * TransformProcessor - —ç—Ç–æ –∫–ª–∞—Å—Å –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏) –¥–∞–Ω–Ω—ã—Ö
 *
 * –ü—Ä–µ–¥—Å—Ç–∞–≤—å —Ñ–∞–±—Ä–∏–∫—É –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É –∏–≥—Ä—É—à–µ–∫:
 * - –ù–∞ –≤—Ö–æ–¥–µ: —Å—ã—Ä—å–µ (–∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
 * - –ü—Ä–æ—Ü–µ—Å—Å: –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
 * - –ù–∞ –≤—ã—Ö–æ–¥–µ: –≥–æ—Ç–æ–≤—ã–µ –∏–≥—Ä—É—à–∫–∏ (–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
 *
 * –ó–¥–µ—Å—å –º—ã "–ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–µ–º" –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º
 */
public class TransformProcessor {

    /**
     * –ü–æ–≤—ã—à–∞–µ–º –∑–∞—Ä–ø–ª–∞—Ç—É –≤—Å–µ–º –Ω–∞ 10%
     *
     * –≠—Ç–æ –∫–∞–∫ –µ–∂–µ–≥–æ–¥–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∑–∞—Ä–ø–ª–∞—Ç:
     * - –ë–µ—Ä–µ–º —Ç–µ–∫—É—â—É—é –∑–∞—Ä–ø–ª–∞—Ç—É –∫–∞–∂–¥–æ–≥–æ
     * - –£–º–Ω–æ–∂–∞–µ–º –Ω–∞ 1.1 (–¥–æ–±–∞–≤–ª—è–µ–º 10%)
     * - –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–æ–≤—É—é –∑–∞—Ä–ø–ª–∞—Ç—É
     *
     * –ü—Ä–∏–º–µ—Ä: –±—ã–ª–æ 50000 ‚Üí —Å—Ç–∞–ª–æ 55000
     */
    @DataProcessor(description = "–ü–æ–≤—ã—à–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã –Ω–∞ 10%", priority = 50)
    public List<Person> increaseSalary(List<Person> people) {
        System.out.println("üìà –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é: –ø–æ–≤—ã—à–∞–µ–º –∑–∞—Ä–ø–ª–∞—Ç—É –Ω–∞ 10%");

        // –í–∞–∂–Ω–æ! –ú—ã —Å–æ–∑–¥–∞–µ–º –ù–û–í–´–• –ª—é–¥–µ–π —Å –Ω–æ–≤–æ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π,
        // –∞ –Ω–µ –º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã—Ö (—ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å)
        return people.stream()
                .map(person -> new Person(
                    person.getName(),
                    person.getAge(),
                    person.getSalary() * 1.1  // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–∞ 10%
                ))
                .collect(Collectors.toList());
    }

    /**
     * –î–µ–ª–∞–µ–º –≤—Å–µ –∏–º–µ–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏
     *
     * –≠—Ç–æ –∫–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å –∏–º—è –Ω–∞ –≤–∏–∑–∏—Ç–∫–µ –±–æ–ª—å—à–∏–º–∏ –±—É–∫–≤–∞–º–∏:
     * - –ë—ã–ª–æ: "–ò–≤–∞–Ω"
     * - –°—Ç–∞–ª–æ: "–ò–í–ê–ù"
     *
     * –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
     */
    @DataProcessor(description = "–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω –≤ –ó–ê–ì–õ–ê–í–ù–´–ï", priority = 40)
    public List<Person> uppercaseNames(List<Person> people) {
        System.out.println("üî§ –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é: –¥–µ–ª–∞–µ–º –∏–º–µ–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏");

        return people.stream()
                .map(person -> new Person(
                    person.getName().toUpperCase(),  // –î–ï–õ–ê–ï–ú –ò–ú–Ø –ó–ê–ì–õ–ê–í–ù–´–ú
                    person.getAge(),
                    person.getSalary()
                ))
                .collect(Collectors.toList());
    }

    /**
     * –ü—Ä–∏–±–∞–≤–ª—è–µ–º –≤—Å–µ–º –ø–æ –æ–¥–Ω–æ–º—É –≥–æ–¥—É (–∫–∞–∫ –±—É–¥—Ç–æ –ø—Ä–æ—à–µ–ª –≥–æ–¥)
     *
     * –≠—Ç–æ –∫–∞–∫ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É –≤—Å–µ—Ö —Å—Ä–∞–∑—É:
     * - –ö–∞–∂–¥–æ–º—É +1 –≥–æ–¥ –∫ –≤–æ–∑—Ä–∞—Å—Ç—É
     * - –û—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
     */
    @DataProcessor(description = "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –Ω–∞ 1 –≥–æ–¥", priority = 30)
    public List<Person> incrementAge(List<Person> people) {
        System.out.println("üéÇ –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é: –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ–º –ø–æ 1 –≥–æ–¥—É");

        return people.stream()
                .map(person -> new Person(
                    person.getName(),
                    person.getAge() + 1,  // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 1 –≥–æ–¥
                    person.getSalary()
                ))
                .collect(Collectors.toList());
    }
}
